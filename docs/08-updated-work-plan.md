# μΈκµ¬λ°€μ§‘λ„ μ‹¤μ‹κ°„ API κµ¬μ¶• μ‘μ—… κ³„ν (μ—…λ°μ΄νΈ)

## π” κΈ°μ΅΄ κµ¬μ΅° λ¶„μ„ κ²°κ³Ό
- **ν”„λ΅ νΈμ—”λ“**: `/frontend/src/services/seoulApi.js`μ— μ„μΈ API μ—°λ™ λ΅μ§ μ΅΄μ¬
- **ν™κ²½λ³€μ**: `.env.example`μ— `SEOUL_API_KEY` μ„¤μ • ν™•μΈ
- **API κµ¬μ΅°**: μ΄λ―Έ `/api/seoul/population` μ—”λ“ν¬μΈνΈ κµ¬μ΅° μ„¤κ³„λ¨
- **λ°μ΄ν„° μ²λ¦¬**: μ§€μ—­λ³„, μ‹κ°„λ€λ³„ μΈκµ¬ λ³€λ™ λ΅μ§ κµ¬ν„λ¨

## π“‹ μμ •λ μ‘μ—… μ²΄ν¬λ¦¬μ¤νΈ

### Phase 1: DynamoDB ν…μ΄λΈ” μƒμ„±
- [ ] **1-1. PlacesCurrent ν…μ΄λΈ” μƒμ„±**
- [ ] **1-2. PlacesHistory ν…μ΄λΈ” μƒμ„±** 
- [ ] **1-3. ν…μ΄λΈ” μƒμ„± ν™•μΈ**

### Phase 2: λ°μ΄ν„° μμ§‘ Lambda ν•¨μ κ°λ°
- [ ] **2-1. populationCollector Lambda ν•¨μ μƒμ„±**
  - κΈ°μ΅΄ `dataCollector.js` + ν”„λ΅ νΈμ—”λ“ `seoulApi.js` λ΅μ§ κ²°ν•©
  - μ„μΈ API μ—”λ“ν¬μΈνΈ: `SPOP_LOCAL_RESD_DONG` μ‚¬μ©
  - μ§€μ—­λ³„ νƒ€μ… λ¶„λ¥ λ΅μ§ ν¬ν•¨ (business, residential, shopping λ“±)

- [ ] **2-2. μ„μΈ API μ—°λ™ λ΅μ§ κµ¬ν„**
  - κΈ°μ΅΄ ν”„λ΅ νΈμ—”λ“ λ΅μ§ μ°Έμ΅°ν•μ—¬ Lambdaμ— μ μ©
  - μ‹κ°„λ€λ³„ μΈκµ¬ λ³€λ™ κ³„μ‚° λ΅μ§ ν¬ν•¨
  - μ§€μ—­ νƒ€μ…λ³„ μ„κ³„κ°’ μ„¤μ •

- [ ] **2-3. DynamoDB μ €μ¥ λ΅μ§ κµ¬ν„**
- [ ] **2-4. Lambda ν•¨μ λ°°ν¬**
- [ ] **2-5. λ°μ΄ν„° μμ§‘ ν…μ¤νΈ**

### Phase 3: μ΅°ν API Lambda ν•¨μ κ°λ° β­ **μμ •λ¨**
- [ ] **3-1. populationAPI Lambda ν•¨μ μƒμ„±**
  - κΈ°μ΅΄ `/api/seoul/population` μ—”λ“ν¬μΈνΈ κµ¬μ΅° ν™μ©
  - ν”„λ΅ νΈμ—”λ“ `fetchSeoulPopulationData()` μ‘λ‹µ ν•μ‹ λ§μ¶¤
  - μ§€μ—­ νƒ€μ…λ³„ ν•„ν„°λ§ μ§€μ›

- [ ] **3-2. κΈ°μ΅΄ API μ‘λ‹µ ν•μ‹ νΈν™μ„± ν™•λ³΄**
  ```javascript
  // κΈ°μ΅΄ ν”„λ΅ νΈμ—”λ“ κΈ°λ€ ν•μ‹
  {
    id: "seoul_1",
    name: "κ°•λ‚¨κµ¬ μ—­μ‚Όλ™",
    lat: 37.5009,
    lng: 127.0364,
    population: 8500,
    noiseLevel: 1,      // 0: λ‚®μ, 1: λ³΄ν†µ, 2: λ†’μ
    crowdLevel: 2,      // 0: λ‚®μ, 1: λ³΄ν†µ, 2: λ†’μ
    category: "λΉ„μ¦λ‹μ¤ μ§€κµ¬",
    type: "business",
    lastUpdated: "2025-09-05T14:30:00Z",
    walkingRecommendation: "μ λ‹Ήν• ν™κΈ°μ κ±°λ¦¬ μ‚°μ±…"
  }
  ```

- [ ] **3-3. μ§€μ—­ νƒ€μ…λ³„ λ΅μ§ κµ¬ν„**
  - business, residential, shopping, luxury, education λ“±
  - μ‹κ°„λ€λ³„ μΈκµ¬ λ³€λ™ ν¨ν„΄ μ μ©
  - μ§€μ—­λ³„ μ†μ/νΌμ΅λ„ κ³„μ‚° λ΅μ§

- [ ] **3-4. Lambda ν•¨μ λ°°ν¬ λ° ν…μ¤νΈ**

### Phase 4: API Gateway μ—°λ™ β­ **μμ •λ¨**
- [ ] **4-1. κΈ°μ΅΄ μ—”λ“ν¬μΈνΈ κµ¬μ΅° ν™μ©**
  - `/api/seoul/population` μ—”λ“ν¬μΈνΈ μƒμ„± (ν”„λ΅ νΈμ—”λ“ νΈν™)
  - μ¶”κ°€λ΅ `/api/population/nearby` μ§€λ¦¬μ  κ²€μƒ‰ μ—”λ“ν¬μΈνΈ

- [ ] **4-2. Lambda ν”„λ΅μ‹ ν†µν•© μ„¤μ •**
- [ ] **4-3. CORS μ„¤μ •**
- [ ] **4-4. API λ°°ν¬**

### Phase 5: EventBridge μ¤μΌ€μ¤„λ§
- [ ] **5-1. EventBridge κ·μΉ™ μƒμ„±**
- [ ] **5-2. μλ™ μμ§‘ ν…μ¤νΈ**

### Phase 6: ν†µν•© ν…μ¤νΈ λ° κ²€μ¦ β­ **μμ •λ¨**
- [ ] **6-1. κΈ°μ΅΄ ν”„λ΅ νΈμ—”λ“ νΈν™μ„± ν…μ¤νΈ**
  ```bash
  # κΈ°μ΅΄ ν”„λ΅ νΈμ—”λ“ API νΈμ¶
  curl "https://API_ID.execute-api.us-east-1.amazonaws.com/dev/api/seoul/population"
  
  # μƒλ΅μ΄ μ§€λ¦¬μ  κ²€μƒ‰ API
  curl "https://API_ID.execute-api.us-east-1.amazonaws.com/dev/api/population/nearby?lat=37.5665&lng=126.9780&radius=1000"
  ```

- [ ] **6-2. ν”„λ΅ νΈμ—”λ“ μ—°λ™ ν…μ¤νΈ**
  - `fetchSeoulPopulationData()` ν•¨μ μ •μƒ λ™μ‘ ν™•μΈ
  - μ§€μ—­λ³„ μ •λ ¬ λ° ν•„ν„°λ§ ν™•μΈ
  - μ‹κ°„λ€λ³„ λ°μ΄ν„° λ³€ν™” ν™•μΈ

- [ ] **6-3. μ„±λ¥ ν…μ¤νΈ**
- [ ] **6-4. μµμΆ… κ²€μ¦**

## π”§ κΈ°μ΅΄ κµ¬μ΅° ν™μ© ν¬μΈνΈ

### 1. μ„μΈ API μ—°λ™ λ΅μ§ μ¬μ‚¬μ©
```javascript
// κΈ°μ΅΄ ν”„λ΅ νΈμ—”λ“ λ΅μ§μ„ Lambdaμ— μ μ©
const seoulAreas = [
  { name: "κ°•λ‚¨κµ¬ μ—­μ‚Όλ™", lat: 37.5009, lng: 127.0364, basePopulation: 8500, type: "business" },
  { name: "κ°•λ‚¨κµ¬ λ…Όν„λ™", lat: 37.5048, lng: 127.0280, basePopulation: 4200, type: "residential" },
  // ... κΈ°μ΅΄ λ°μ΄ν„° ν™μ©
];
```

### 2. ν™κ²½λ³€μ μ„¤μ •
```bash
# Lambda ν™κ²½λ³€μ
SEOUL_API_KEY=μ‹¤μ _API_ν‚¤
PLACES_CURRENT_TABLE=PlacesCurrent
PLACES_HISTORY_TABLE=PlacesHistory
```

### 3. API μ—”λ“ν¬μΈνΈ νΈν™μ„±
- κΈ°μ΅΄: `GET /api/seoul/population` (ν”„λ΅ νΈμ—”λ“ νΈν™)
- μ‹ κ·: `GET /api/population/nearby` (μ§€λ¦¬μ  κ²€μƒ‰)

## β οΈ μ£Όμ” λ³€κ²½μ‚¬ν•­
1. **κΈ°μ΅΄ API κµ¬μ΅° ν™μ©**: ν”„λ΅ νΈμ—”λ“ μμ • μµμ†ν™”
2. **μ§€μ—­ νƒ€μ… λ¶„λ¥**: business, residential λ“± κΈ°μ΅΄ λ΅μ§ ν™μ©
3. **μ‹κ°„λ€λ³„ λ³€λ™**: κΈ°μ΅΄ κ³„μ‚° λ΅μ§ Lambdaμ— μ μ©
4. **μ‘λ‹µ ν•μ‹ νΈν™**: κΈ°μ΅΄ ν”„λ΅ νΈμ—”λ“ μ½”λ“μ™€ 100% νΈν™

---

**μΉμΈ μ”μ²­**: κΈ°μ΅΄ κµ¬μ΅°λ¥Ό μµλ€ν• ν™μ©ν• μμ •λ κ³„νμΌλ΅ μ§„ν–‰ν•μ‹κ² μµλ‹κΉ?
